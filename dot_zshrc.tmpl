export GPG_TTY=$(tty)

if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

export POWERLEVEL9K_DISABLE_CONFIGURATION_WIZARD=true
export DOTNET_CLI_TELEMETRY_OPTOUT=1

export LC_CTYPE=en_US.UTF-8
export LC_ALL=en_US.UTF-8

export EDITOR=nvim

source "${HOME}/.local/share/zinit/zinit.git/zinit.zsh"

zinit snippet OMZL::git.zsh
zinit light zsh-users/zsh-syntax-highlighting

zinit ice depth=1
zinit light romkatv/powerlevel10k

zinit snippet "$HOME/.local/scripts/init_asdf.zsh"

zinit ice as"completion"
zinit snippet "$HOME/.asdf/completions/_asdf"

{{ if eq .chezmoi.os "darwin" }}
zinit ice as"completion"
zinit snippet "$(brew --prefix)/share/zsh/site-functions/_brew"
{{ end }}

zinit light rupa/z

zinit pack"default+keys" for fzf

zinit light-mode lucid wait nocompile for \
  id-as"kubectl_completion" \
  as"completion" \
  atclone"kubectl completion zsh > _kubectl" \
  atpull"%atclone" \
  run-atpull \
  zdharma-continuum/null

autoload -Uz compinit
compinit

zinit cdreplay -q

. "$HOME/.local/scripts/init_p10k.zsh"
